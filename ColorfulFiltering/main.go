package main

import (
	"fmt"
	"tenx-test-interview/helpers"
)

func main() {
	image := [][]int{
		{34, 203, 55}, {67, 76, 73}, {99, 105, 93}, {178, 173, 169}, {144, 89, 54},
		{22, 20, 18}, {10, 40, 50}, {171, 180, 211}, {150, 150, 90}, {50, 150, 150},
		{209, 109, 107}, {111, 117, 212}, {214, 113, 165}, {45, 137, 212}, {182, 240, 245},
		{199, 184, 72}, {204, 75, 193}, {140, 132, 139}, {87, 76, 63}, {170, 209, 167},
		{1, 90, 20}, {174, 214, 174}, {196, 106, 112}, {173, 166, 167}, {48, 35, 46},
	}

	// image := [][]int{
	// 	{12, 34, 56}, {78, 89, 91}, {100, 100, 100}, {200, 180, 160}, {90, 20, 30},
	// 	{45, 45, 45}, {30, 60, 90}, {190, 200, 210}, {50, 90, 140}, {130, 60, 20},
	// 	{210, 100, 120}, {180, 110, 230}, {255, 100, 180}, {30, 130, 230}, {120, 220, 255},
	// 	{150, 150, 80}, {60, 90, 60}, {200, 90, 100}, {100, 90, 90}, {130, 160, 170},
	// 	{10, 10, 10}, {220, 220, 220}, {40, 30, 50}, {180, 190, 200}, {80, 85, 90},
	// }

	/* these two generated by chat gpt, just for testing purpose only
	// grayscaleImage := [][]int{
	// 	{10, 10, 10}, {20, 20, 20}, {30, 30, 30}, {40, 40, 40}, {50, 50, 50},
	// 	{60, 60, 60}, {70, 70, 70}, {80, 80, 80}, {90, 90, 90}, {100, 100, 100},
	// 	{110, 110, 110}, {120, 120, 120}, {130, 130, 130}, {140, 140, 140}, {150, 150, 150},
	// 	{160, 160, 160}, {170, 170, 170}, {180, 180, 180}, {190, 190, 190}, {200, 200, 200},
	// 	{210, 210, 210}, {220, 220, 220}, {230, 230, 230}, {240, 240, 240}, {250, 250, 250},
	// }

	// colorfulImage := [][]int{
	// 	{255, 0, 0}, {0, 255, 0}, {0, 0, 255}, {255, 255, 0}, {0, 255, 255},
	// 	{255, 0, 255}, {128, 0, 64}, {90, 200, 120}, {10, 30, 200}, {230, 60, 100},
	// 	{110, 45, 200}, {60, 180, 75}, {250, 170, 30}, {70, 240, 240}, {240, 50, 230},
	// 	{210, 245, 60}, {250, 190, 190}, {0, 128, 128}, {128, 0, 0}, {128, 128, 0},
	// 	{0, 0, 128}, {128, 0, 128}, {255, 127, 80}, {100, 149, 237}, {222, 49, 99},
	// }
	*/

	threshold := 0.4
	colorfulCount := 0

	for _, v := range image {
		if helpers.FilterColorfulColor(v) {
			colorfulCount++
		}
	}

	isImageColorful := float64(colorfulCount) / float64(len(image))

	fmt.Println(colorfulCount, len(image), isImageColorful)

	if isImageColorful >= threshold {
		fmt.Println("image is colorful")
	} else {
		fmt.Println("image is grayscale")
	}
}
